# Admin ë¡œê·¸ì¸ í›„ UI í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

> ì‘ì„±ì¼: 2026-01-25  
> ëª©ì : Admin ë¡œê·¸ì¸ í›„ UIê°€ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸

---

## âœ… í™•ì¸ í•­ëª©

### 1. ë¡œê·¸ì¸ ë° ì—­í•  ë¡œë“œ

- [ ] Admin ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ ì„±ê³µ
- [ ] ì½˜ì†”ì— `âœ… Firebase ì‚¬ìš©ì ë¡œê·¸ì¸: [UID] [email]` ë©”ì‹œì§€ í‘œì‹œ
- [ ] ì½˜ì†”ì— `âœ… Firebaseì—ì„œ ì—­í•  ë¡œë“œ: admin []` ë©”ì‹œì§€ í‘œì‹œ
- [ ] ì½˜ì†”ì— `âœ… [ê°€ë“œ] ì—­í•  ì ìš©: admin í—ˆìš© ê³µì •: []` ë©”ì‹œì§€ í‘œì‹œ
- [ ] ì½˜ì†”ì— `âœ… [ê°€ë“œ] ë©¤ë²„ í™•ì¸ ì™„ë£Œ - í”„ë¡œì íŠ¸ ì ‘ê·¼ í—ˆìš©` ë©”ì‹œì§€ í‘œì‹œ

### 2. ì ‘ê·¼ ì°¨ë‹¨ UI í™•ì¸

- [ ] ì ‘ê·¼ ì°¨ë‹¨ í™”ë©´ì´ **í‘œì‹œë˜ì§€ ì•ŠìŒ**
- [ ] ì •ìƒì ì¸ í”„ë¡œì íŠ¸ í˜ì´ì§€ê°€ í‘œì‹œë¨
- [ ] `.container` ìš”ì†Œê°€ ì ‘ê·¼ ì°¨ë‹¨ UIë¡œ ë®ì—¬ìˆì§€ ì•ŠìŒ

### 3. Admin ì„¤ì • ì˜ì—­ í‘œì‹œ

- [ ] í—¤ë” ì •ë³´ ì˜ì—­ì— "Admin ì„¤ì •" ì„¹ì…˜ì´ **í‘œì‹œë¨**
- [ ] `#admin-role-settings` ìš”ì†Œê°€ `display: block` ìƒíƒœ
- [ ] Admin ì„¤ì •, Editor ì„¤ì •, Viewer ì„¤ì • ì…ë ¥ í•„ë“œê°€ ëª¨ë‘ ë³´ì„

### 4. ì—­í•  ê¸°ë°˜ UI í™œì„±í™”

#### ì…ë ¥ì°½ í™œì„±í™”
- [ ] `#work-date` (ì‘ì—…ì¼ ì…ë ¥) - `disabled: false`, `opacity: 1`
- [ ] `#column-grid-input` (ê¸°ë‘¥ ê·¸ë¦¬ë“œ ì…ë ¥) - `pointerEvents: auto`, `opacity: 1`
- [ ] ì €ì¥ ë²„íŠ¼ - `disabled: false`, `opacity: 1`

#### ê³µì • ë²„íŠ¼ í™œì„±í™”
- [ ] ëª¨ë“  ê³µì • ë²„íŠ¼ (1~6)ì´ í™œì„±í™”ë¨
- [ ] ê³µì • ë²„íŠ¼ì— `opacity: 0.25` ìŠ¤íƒ€ì¼ì´ **ì—†ìŒ**
- [ ] ê³µì • ë²„íŠ¼ì´ í´ë¦­ ê°€ëŠ¥í•¨

#### íŒ¨ë„ ì ‘ê·¼
- [ ] "ì¼ì¼ ì…ë ¥" íŒ¨ë„ ì ‘ê·¼ ê°€ëŠ¥
- [ ] "ìš´ì†¡ì°¨ìˆ˜ê³„íš" íŒ¨ë„ ì ‘ê·¼ ê°€ëŠ¥ (Adminë§Œ)
- [ ] ëª¨ë“  íƒ­ ë²„íŠ¼ì´ í™œì„±í™”ë¨

#### Excel ì—…ë¡œë“œ
- [ ] ê³µì • Excel ì—…ë¡œë“œ ë²„íŠ¼ í™œì„±í™”
- [ ] ìš´ì†¡ë¬¼ëŸ‰ì‚°ì • Excel ì—…ë¡œë“œ ë²„íŠ¼ í™œì„±í™”
- [ ] ìš´ì†¡ì°¨ìˆ˜ê³„íš Excel ì—…ë¡œë“œ ë²„íŠ¼ í™œì„±í™” (Adminë§Œ)

### 5. ì—­í•  ë°°ì§€ í‘œì‹œ

- [ ] ì—­í•  ë°°ì§€ê°€ "ê´€ë¦¬ì - ëª¨ë“  ê¶Œí•œ"ìœ¼ë¡œ í‘œì‹œë¨
- [ ] ì—­í•  ë°°ì§€ ìƒ‰ìƒì´ Admin ìƒ‰ìƒ (ì˜ˆ: íŒŒë€ìƒ‰/ë³´ë¼ìƒ‰)

### 6. ì‹¤ì‹œê°„ ë™ê¸°í™”

- [ ] ì½˜ì†”ì— `âœ… [ê°€ë“œ] ë©¤ë²„ í™•ì¸ ì™„ë£Œ - setupFirebaseRealtimeListener() í˜¸ì¶œ` ë©”ì‹œì§€ í‘œì‹œ
- [ ] ì‹¤ì‹œê°„ ì—°ê²° ìƒíƒœ í‘œì‹œê¸°ê°€ "ì—°ê²°ë¨" ìƒíƒœ
- [ ] Firestore ë°ì´í„°ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”ë¨

---

## ğŸ” ì½˜ì†” í™•ì¸ ëª…ë ¹ì–´

ë¸Œë¼ìš°ì € ì½˜ì†”(F12)ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ìƒíƒœ í™•ì¸:

```javascript
// í˜„ì¬ ì‚¬ìš©ì í™•ì¸
console.log('í˜„ì¬ ì‚¬ìš©ì:', firebase.auth().currentUser?.uid);

// ì—­í•  í™•ì¸
console.log('userRole:', userRole);
console.log('allowedProcesses:', allowedProcesses);

// Admin ì„¤ì • ì˜ì—­ í‘œì‹œ ì—¬ë¶€
const adminSettings = document.getElementById('admin-role-settings');
console.log('Admin ì„¤ì • ì˜ì—­:', adminSettings?.style.display);

// ì—­í•  ê¸°ë°˜ UI ì ìš© ì—¬ë¶€
const workDateInput = document.getElementById('work-date');
console.log('ì‘ì—…ì¼ ì…ë ¥ disabled:', workDateInput?.disabled);
console.log('ì‘ì—…ì¼ ì…ë ¥ opacity:', workDateInput?.style.opacity);

// Firestore ì—­í•  í™•ì¸
loadUserRoleFromFirebase().then(role => {
    console.log('Firestore ì—­í• :', role);
});
```

---

## ğŸ› ë¬¸ì œ í•´ê²°

### Admin ì„¤ì • ì˜ì—­ì´ ë³´ì´ì§€ ì•ŠëŠ” ê²½ìš°

1. **ì—­í•  í™•ì¸**
   ```javascript
   loadUserRoleFromFirebase().then(role => {
       console.log('ì—­í• :', role);
   });
   ```

2. **Firestore ë¬¸ì„œ í™•ì¸**
   - ê²½ë¡œ: `projects/{PROJECT_ID}/members/{UID}`
   - `role` í•„ë“œê°€ `"admin"`ì¸ì§€ í™•ì¸

3. **ìˆ˜ë™ìœ¼ë¡œ UI ì ìš©**
   ```javascript
   userRole = 'admin';
   applyRoleBasedUI();
   ```

### ì ‘ê·¼ ì°¨ë‹¨ í™”ë©´ì´ ê³„ì† í‘œì‹œë˜ëŠ” ê²½ìš°

1. **ë©¤ë²„ ë¬¸ì„œ í™•ì¸**
   ```javascript
   const db = firebase.firestore();
   const projectId = new URLSearchParams(window.location.search).get('project') || 'P1';
   const uid = firebase.auth().currentUser?.uid;
   
   db.collection('projects').doc(projectId)
     .collection('members').doc(uid)
     .get()
     .then(doc => {
         console.log('ë©¤ë²„ ë¬¸ì„œ:', doc.exists ? doc.data() : 'ì—†ìŒ');
     });
   ```

2. **Adminìœ¼ë¡œ ë©¤ë²„ ì¶”ê°€**
   - ë‹¤ë¥¸ Admin ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
   - Admin ì„¤ì • ì˜ì—­ì—ì„œ í˜„ì¬ UIDë¥¼ Adminìœ¼ë¡œ ì¶”ê°€

---

## ğŸ“ ì˜ˆìƒ ì½˜ì†” ì¶œë ¥ (ì •ìƒ)

```
âœ… Firebase ì‚¬ìš©ì ë¡œê·¸ì¸: abc123... admin@example.com
ğŸ” Firebase ì‚¬ìš©ì í™•ì¸: abc123... admin@example.com
âœ… Firebaseì—ì„œ ì—­í•  ë¡œë“œ: admin []
ğŸ“‹ Firestore ë¬¸ì„œ ë°ì´í„°: {role: "admin", allowedProcesses: []}
âœ… [ê°€ë“œ] ì—­í•  ì ìš©: admin í—ˆìš© ê³µì •: []
âœ… [ê°€ë“œ] ë©¤ë²„ í™•ì¸ ì™„ë£Œ - í”„ë¡œì íŠ¸ ì ‘ê·¼ í—ˆìš©
âœ… [ê°€ë“œ] ë©¤ë²„ í™•ì¸ ì™„ë£Œ - setupFirebaseRealtimeListener() í˜¸ì¶œ
ğŸ” setupFirebaseRealtimeListener í˜¸ì¶œë¨
âœ… Firebase ì‹¤ì‹œê°„ ë™ê¸°í™” ì‹œì‘: projects/P1
```

---

**ì‘ì„± ì™„ë£Œì¼**: 2026-01-25
