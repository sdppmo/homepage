module.exports=[9468,a=>{"use strict";var b=a.i(37936),c=a.i(13095);let d={400:{tw:8,tf:13,r:16},450:{tw:9,tf:14,r:18},500:{tw:10,tf:16,r:20},506:{tw:11,tf:19,r:20},482:{tw:12,tf:17,r:28},488:{tw:12,tf:20,r:28},582:{tw:12,tf:17,r:28},588:{tw:12,tf:20,r:28},600:{tw:11,tf:17,r:22}},e=[{H1:500,H2:500,B1:300,B2:300,name:"BH500×B300"},{H1:450,H2:450,B1:250,B2:250,name:"BH450×B250"},{H1:400,H2:400,B1:200,B2:200,name:"H400×B200"},{H1:450,H2:450,B1:200,B2:200,name:"H450×B200"},{H1:500,H2:500,B1:200,B2:200,name:"H500×B200"},{H1:506,H2:506,B1:201,B2:201,name:"H506×B201"},{H1:482,H2:482,B1:300,B2:300,name:"H482×B300"},{H1:488,H2:488,B1:300,B2:300,name:"H488×B300"},{H1:582,H2:582,B1:300,B2:300,name:"H582×B300"},{H1:588,H2:588,B1:300,B2:300,name:"H588×B300"},{H1:600,H2:600,B1:200,B2:200,name:"H600×B200"}];async function f(){return e}async function g(){return d}async function h(a){let{thickness:{tw:b,tf:c},material:{Fy:d,E:e,nu:f},factors:{Kx:g,Ky:h,Kz:i},lengths:{Lx:k,Ly:l},loads:{Pu:m,Mux:n,Muy:o},dims:{h1:p,h2:q,b1:r,b2:s}}=a;return j({tw:b,tf:c,Fy:d,E:e,nu:f,Kx:g,Ky:h,Kz:i,Lx:k,Ly:l,Pu:m,Mux:n,Muy:o,h1:p,h2:q,b1:r,b2:s})}async function i(a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r){return j({tw:a,tf:b,Fy:c,E:d,nu:e,Kx:f,Ky:g,Kz:h,Lx:i,Ly:k,Pu:l,Mux:m,Muy:n,h1:o,h2:p,b1:q,b2:r})}function j(a){let b,c,{tw:e,tf:f,Fy:g,E:h,nu:i,Kx:j,Ky:k,Kz:l,Lx:m,Ly:n,Pu:o,Mux:p,Muy:q,h1:r,h2:s,b1:t,b2:u}=a;if(Object.prototype.hasOwnProperty.call(d,r)&&(200===t||201===t||300===t&&(482===r||488===r||582===r||588===r))){let a=d[r];b=a.r||0,c=a.r||0}else b=0,c=0;let v=r-2*f,w=s-2*f,x=r/2-f/2,y=s/2-f/2,z=t*f,A=u*f,B=z+t*f+v*e+A+u*f+w*e+4*(b*b-Math.PI*b*b/4)+4*(c*c-Math.PI*c*c/4)-e*e,C=1/12*t*Math.pow(f,3)+z*Math.pow(x,2)+(1/12*t*Math.pow(f,3)+z*Math.pow(x,2))+1/12*e*Math.pow(v,3)+1/12*f*Math.pow(u,3)+1/12*f*Math.pow(u,3)+1/12*w*Math.pow(e,3),D=1/12*u*Math.pow(f,3)+A*Math.pow(y,2),E=1/12*u*Math.pow(f,3)+A*Math.pow(y,2),F=1/12*e*Math.pow(w,3),G=1/12*f*Math.pow(t,3)+1/12*f*Math.pow(t,3)+1/12*v*Math.pow(e,3)+D+E+F,H=Math.sqrt(C/B),I=Math.sqrt(G/B),J=C/(r/2),K=t*f*x+t*f*x+e*v/2*(v/4)+e*v/2*(v/4)+u*u*f/2+e*w/8*2,L=u*f*y+u*f*y+e*w/2*(w/4)+e*w/2*(w/4)+t*t*f/2+e*v/8*2,M=(2*t*Math.pow(f,3)+r*Math.pow(e,3))/3,N=(2*u*Math.pow(f,3)+s*Math.pow(e,3))/3,O=G*Math.pow(r-f,2)/4,P=.56*Math.sqrt(h/g),Q=u/(2*f),R=3.76*Math.sqrt(h/g),S=5.7*Math.sqrt(h/g),T=(r-2*(f+b)-e)/(2*e),U=(s-2*(f+c)-e)/(2*e),V=.38*Math.sqrt(h/g),W=+Math.sqrt(h/g),X=t/(2*f),Y=u/(2*f),Z="Compact",$="Compact",_=!1;T<=R?Z="Compact":T<=S?Z="Noncompact":(Z="Slender",_=!0),U<=R?$="Compact":U<=S?$="Noncompact":($="Slender",_=!0);let aa="Compact",ab="Compact";aa=X<=V?"Compact":X<=W?"Noncompact":"Slender",ab=Y<=V?"Compact":Y<=W?"Noncompact":"Slender";let ac=.9*B*(Math.pow(.658,g/Math.min(9.869604401089358*h/Math.pow(Math.max(j*m/H,k*n/I),2),(9.869604401089358*h*O/Math.pow(l*m,2)+h/(2*(1+i))*(M+N))/(C+G)))*g)/1e3,ad=Math.min(g*K,1.6*g*J)/1e6*.9,ae=Math.min(g*L,1.6*g*(G/(s/2)))/1e6*.9,af=o/ac,ag=ad>0?p/ad:0,ah=ae>0?q/ae:0;return{phi_Pn:ac,area:B,ratio_pmm:af>=.2?af+8/9*(ag+ah):af/2+ag+ah,tw:e,tf:f,lcf:Q,lcfr:P,isSlenderFlange:Q>P,isCompressiveNG:ac<o,lw1:T,lw2:U,lwp:R,lwr:S,web1Class:Z,web2Class:$,isSlenderWeb:_,lfp:V,lfr:W,lf1:X,lf2:Y,flange1Class:aa,flange2Class:ab,phi_Mnx:ad,phi_Mny:ae,phi_Vnx:.6*g*(w*e+2*f*u)/1e3,phi_Vny:.6*g*(v*e+2*f*t)/1e3}}async function k(){return f()}async function l(a,b){let c=[];for(let d=a;d<=b;d++)c.push(d);return c}async function m(a,b){let c=[];for(let d=a;d<=b;d++)c.push(d);return c}(0,c.ensureServerEntryExports)([f,g,h,i]),(0,b.registerServerReference)(f,"00f4fb7982a65f4568c4815c7f036b0f42c40f0797",null),(0,b.registerServerReference)(g,"00f2f403f0cbd7594bef516fe5663bd4a51fbc7a8b",null),(0,b.registerServerReference)(h,"40dd646770a34a68de39311d5072133c22f137fd2e",null),(0,b.registerServerReference)(i,"7f76eed6bd0fff5696fcea132eee4644f822b45176",null);let n={};async function o(){return 0===Object.keys(n).length&&(n=await g()),n}async function p(a){var b;let c,d,{loads:e,material:f,factors:g,lengths:h,dims:j}=a,{Pu:k,Mux:l,Muy:m}=e,{Fy:p,E:q,nu:r}=f,{Kx:s,Ky:t,Kz:u}=g,{Lx:v,Ly:w}=h,{h1:x,h2:y,b1:z,b2:A}=j,B=null,C=null,D=1/0,E=0,F=!1,G=a.pmmLimit??1,H=await o(),I=(b=n,Object.prototype.hasOwnProperty.call(b,x)&&(200===z||201===z||300===z&&(482===x||488===x||582===x||588===x)));if(I){let a=H[x],b=a.tw,e=a.tf;c=[b],d=[e]}else{c=[],d=[];for(let b=a.twMin;b<=a.twMax;b++)c.push(b);for(let b=a.tfMin;b<=a.tfMax;b++)d.push(b)}for(let a of c)for(let b of d){if(b<a)continue;let c=await i(a,b,p,q,r,s,t,u,v,w,k,l,m,x,y,z,A);!c.isSlenderFlange&&!c.isSlenderWeb&&c.ratio_pmm>0&&c.ratio_pmm<=G&&c.area<D&&(D=c.area,B=a,C=b,E=c.ratio_pmm,c.ratio_pmm,F=c.isSlenderFlange)}if(null===B){let b=1/0,e=I?c:(()=>{let b=[];for(let c=a.twMin;c<=a.twMax;c++)b.push(c);return b})(),f=I?d:(()=>{let b=[];for(let c=a.tfMin;c<=a.tfMax;c++)b.push(c);return b})();for(let a of e)for(let c of f){if(c<a)continue;let d=await i(a,c,p,q,r,s,t,u,v,w,k,l,m,x,y,z,A);d.isSlenderFlange||d.isSlenderWeb||!d.isCompressiveNG&&d.ratio_pmm<b&&(b=d.ratio_pmm,D=d.area,B=a,C=c,E=d.ratio_pmm,F=d.isSlenderFlange)}}return{tw:B,tf:C,area:D,ratioPMM:E,isSlenderFlange:F}}(0,c.ensureServerEntryExports)([k,l,m,p]),(0,b.registerServerReference)(k,"00b61c19a9f1eb1a1987725d5262b416e4dae44285",null),(0,b.registerServerReference)(l,"60c83eb2355d4b8317c428105f5dca54bf71b3a6b3",null),(0,b.registerServerReference)(m,"60ef9e034147428c8960ed8e5bde91184f34899357",null),(0,b.registerServerReference)(p,"409baa4c8854bdaa456003d2436e82e536081a214a",null);let q=["H400×B200","H450×B200","H500×B200","H506×B201","H482×B300","H488×B300","H582×B300","H588×B300","H600×B200"];function r(a){return q.includes(a)}async function s(a){if(!a||0===a.length)return a;let b=a.map(a=>{let b=a.unitWeight*a.length*a.count;return{...a,quantity:b}});b.sort((a,b)=>(b.quantity||0)-(a.quantity||0));let c=.05*b.reduce((a,b)=>a+(b.quantity||0),0),d=[],e=[];b.forEach(a=>{(a.quantity||0)>=c?d.push(a):e.push(a)});let f=[];e.forEach(a=>{if(!a.h||!a.b||!a.tw||!a.tf)return void d.push(a);let b=!1;for(let c of f){let d=c.items[0];if(!d.h||!d.b||!d.tw||!d.tf)continue;let e=Math.abs(a.h-d.h)/d.h,f=Math.abs(a.b-d.b)/d.b,g=Math.abs(a.tw-d.tw)/d.tw,h=Math.abs(a.tf-d.tf)/d.tf,i=a.combination===d.combination,j=a.steelGrade===d.steelGrade;if(e<=.15&&f<=.15&&g<=.15&&h<=.15&&i&&j){c.items.push(a),c.totalQuantity+=a.quantity||0,c.totalCount+=a.count||0,c.totalLength+=a.length*a.count||0,c.names.push(...a.names),b=!0;break}}b||f.push({items:[a],totalQuantity:a.quantity||0,totalCount:a.count||0,totalLength:a.length*a.count||0,names:[...a.names],representative:a})});let g=f.map(a=>{let b=a.representative,c=a.totalCount>0?a.totalLength/a.totalCount:b.length;return{...b,names:a.names.length>1?[`${a.names[0]} 외 ${a.names.length-1}개`]:a.names,quantity:a.totalQuantity,count:a.totalCount,length:c,isGrouped:!0,originalNames:a.names,originalCount:a.items.length}});return g.sort((a,b)=>(b.quantity||0)-(a.quantity||0)),[...d,...g]}async function t(a,b={}){let c=a.filter(a=>!r(a.combination)),d={};c.forEach(a=>{let c=a.H1||a.h,e=a.H2||a.h,f=a.B1||a.b,g=a.B2||a.b,h=a.tw,i=a.tw,j=a.tf,k=a.tf,l=a.tw,m=a.tw,n=a.tf,o=a.tf;b[l]&&(l=b[l]),b[m]&&(m=b[m]),b[n]&&(n=b[n]),b[o]&&(o=b[o]);let p=`tw${l}-H1-Web`;if(!d[p]){let b=c-2*n;d[p]={thickness:l,type:"Web",section:"H1",width:b,thickness_mm:l,originalThickness:h,originalWidth:c-2*j,unitWeight:0,totalLength:0,totalCount:0,totalWeight:0,steelGrade:a.steelGrade}}d[p].totalLength+=a.length*a.count,d[p].totalCount+=a.count;let q=`tf${n}-H1-Flange`;d[q]||(d[q]={thickness:n,type:"Flange",section:"H1",width:f,thickness_mm:n,originalThickness:j,unitWeight:0,totalLength:0,totalCount:0,totalWeight:0,steelGrade:a.steelGrade}),d[q].totalLength+=a.length*a.count*2,d[q].totalCount+=2*a.count;let r=`tw${m}-H2-Web`;if(!d[r]){let b=e-2*o;d[r]={thickness:m,type:"Web",section:"H2",width:b,thickness_mm:m,originalThickness:i,originalWidth:e-2*k,unitWeight:0,totalLength:0,totalCount:0,totalWeight:0,steelGrade:a.steelGrade}}d[r].totalLength+=a.length*a.count,d[r].totalCount+=a.count;let s=`tf${o}-H2-Flange`;d[s]||(d[s]={thickness:o,type:"Flange",section:"H2",width:g,thickness_mm:o,originalThickness:k,unitWeight:0,totalLength:0,totalCount:0,totalWeight:0,steelGrade:a.steelGrade}),d[s].totalLength+=a.length*a.count*2,d[s].totalCount+=2*a.count}),Object.keys(d).forEach(a=>{let b=d[a],c=b.originalThickness||b.thickness_mm,e=(b.originalWidth||b.width)*c*7850/1e6*b.totalLength;b.unitWeight=b.width*b.thickness_mm*7850/1e6,b.totalWeight=b.unitWeight*b.totalLength,b.originalTotalWeight=e});let e={};Object.keys(d).forEach(a=>{let b=d[a],c=String(b.thickness_mm);e[c]||(e[c]=[]),e[c].push(b)});let f=[];return Object.keys(e).sort((a,b)=>parseFloat(a)-parseFloat(b)).forEach(a=>{let b=e[a],c=b.map(a=>`${a.section} ${a.type}`).join(", "),d=b.reduce((a,b)=>a+b.width,0)/b.length,g=b.reduce((a,b)=>a+b.totalLength,0),h=b.reduce((a,b)=>a+b.totalCount,0),i=b.reduce((a,b)=>a+b.totalWeight,0),j=b[0].steelGrade;f.push({thickness_mm:parseFloat(a),avgWidth:d,unitWeight:g>0?i/g:0,totalLength:g,totalCount:h,totalWeight:i,usageParts:c,steelGrade:j,thickness:parseFloat(a)})}),f}async function u(a){let b=a.filter(a=>r(a.combination)),c={};return b.forEach(a=>{let b=`${a.combination}-${a.length.toFixed(2)}`;c[b]||(c[b]={combination:a.combination,length:a.length,count:0,unitWeight:a.unitWeight,totalWeight:0,names:[],steelGrade:a.steelGrade}),c[b].count+=a.count,c[b].totalWeight+=a.unitWeight*a.length*a.count,c[b].names.push(...a.names)}),Object.values(c)}async function v(a){if(!a||0===a.length)return a;a.sort((a,b)=>(b.totalWeight||0)-(a.totalWeight||0));let b=.05*a.reduce((a,b)=>a+(b.totalWeight||0),0),c=[],d=[];a.forEach(a=>{(a.totalWeight||0)>=b?c.push(a):d.push(a)});let e=[];d.forEach(a=>{if(!a.combination||!a.length)return void c.push(a);let b=!1;for(let c of e){let d=c.items[0];if(!d.combination||!d.length)continue;let e=a.combination===d.combination,f=Math.abs(a.length-d.length)/d.length;if(e&&f<=.15){c.items.push(a),c.totalWeight+=a.totalWeight||0,c.totalCount+=a.count||0,c.names=[...new Set([...c.names,...a.names])],b=!0;break}}b||e.push({items:[a],totalWeight:a.totalWeight||0,totalCount:a.count||0,names:[...a.names],representative:a})});let f=e.map(a=>({...a.representative,names:a.names.length>1?[`${a.names[0]} 외 ${a.names.length-1}개`]:a.names,totalWeight:a.totalWeight,count:a.totalCount,isGrouped:!0,originalNames:a.names,originalCount:a.items.length}));return f.sort((a,b)=>(b.totalWeight||0)-(a.totalWeight||0)),[...c,...f]}async function w(a,b){let c=0,d=0,e=0,f=0;return a.forEach(a=>{let g=a.unitWeight*a.length*a.count;c+=a.count,d+=a.area*a.count,e+=g;let h=b.mainMaterialSM420;"SM355"===a.steelGrade||a.steelGrade.includes("SM355")?h=b.mainMaterialSM355:("SM420"===a.steelGrade||a.steelGrade.includes("SM420"))&&(h=b.mainMaterialSM420),f+=g/1e3*h}),{totalCount:c,totalArea:d,totalWeight:e,totalColumnAmount:f}}async function x(a,b,c=.15){let d=a*c,e=d/1e3*b.subMaterial;return[{type:"3 PLATE",spec:"접합부",unit:"Ton",quantity:null,steelGrade:"SM355/SM420",mainMaterialWeight:a,surcharge:d,unitPrice:b.subMaterial,amount:e,remark:"전체 철골물량의 15%"}]}async function y(a,b={}){if(!a||0===a.length)return a;a.sort((a,b)=>(b.totalWeight||0)-(a.totalWeight||0));let c=.05*a.reduce((a,b)=>a+(b.totalWeight||0),0),d=[],e=[];a.forEach(a=>{(a.totalWeight||0)>=c?d.push(a):e.push(a)});let f=[];e.forEach(a=>{if(!a.thickness_mm||!a.avgWidth)return void d.push(a);let c=a.thickness_mm;b[a.thickness_mm]&&(c=b[a.thickness_mm]);let e=!1;for(let b of f){let d=b.items[0];if(!d.thickness_mm||!d.avgWidth)continue;let f=c===d.thickness_mm,g=Math.abs(c-d.thickness_mm)/d.thickness_mm,h=Math.abs(a.avgWidth-d.avgWidth)/d.avgWidth;if(f||g<=.15&&h<=.15){b.items.push(a),b.totalWeight+=a.totalWeight||0,b.totalCount+=a.totalCount||0,b.totalLength+=a.totalLength||0,b.usageParts=[...new Set([...b.usageParts.split(", "),...a.usageParts.split(", ")])].join(", ");let c=a.thickness_mm;b.originalThicknessMap[c]||(b.originalThicknessMap[c]=0),b.originalThicknessMap[c]+=a.totalWeight||0,e=!0;break}}if(!e){let b=a.thickness_mm;f.push({items:[a],totalWeight:a.totalWeight||0,totalCount:a.totalCount||0,totalLength:a.totalLength||0,usageParts:a.usageParts,representative:a,originalThicknessMap:{[b]:a.totalWeight||0}})}});let g=f.map(a=>{let b=a.representative,c=a.totalLength>0?a.totalWeight/a.totalLength:b.unitWeight,d=[];Object.keys(a.originalThicknessMap).sort((a,b)=>parseFloat(a)-parseFloat(b)).forEach(b=>{let c=a.originalThicknessMap[parseFloat(b)];d.push(`${b}mm: ${c.toFixed(2)}kg`)});let e=d.length>0?`${d.join(", ")} → ${b.thickness_mm}mm: ${a.totalWeight.toFixed(2)}kg`:"";return{...b,usageParts:a.usageParts,totalWeight:a.totalWeight,totalCount:a.totalCount,totalLength:a.totalLength,unitWeight:c,mergeInfo:e}});return g.sort((a,b)=>(b.totalWeight||0)-(a.totalWeight||0)),[...d,...g]}async function z(a){return h(a)}async function A(a){return p(a)}async function B(a){return{totals:await w(a.items,a.unitPrices),plates:await t(a.items,a.thicknessMergeRules??{})}}(0,c.ensureServerEntryExports)([s,t,u,v,w,x,y]),(0,b.registerServerReference)(s,"40114bed4772142ca1d375ec63a888354459869e7b",null),(0,b.registerServerReference)(t,"606901b71e862a89db0b86321e4fb5f16acc34063d",null),(0,b.registerServerReference)(u,"40d4473346c6178c235398083db33dd7ae77c5d244",null),(0,b.registerServerReference)(v,"408440b0c121c8d8b518372655ce75ac3597f3fa00",null),(0,b.registerServerReference)(w,"6061ef620f6ad4f22bf26a63c945705be53a91e9d2",null),(0,b.registerServerReference)(x,"7097b165a807a42283135fda47a047ae427a1273f4",null),(0,b.registerServerReference)(y,"60f973c15290764ede8f74b4e781931a35ca785fd3",null),(0,c.ensureServerEntryExports)([z,A,B]),(0,b.registerServerReference)(z,"407bd21f7ef98af90a7d028a595e46a4acfca35efb",null),(0,b.registerServerReference)(A,"402e24db557599454d14580ee485da1cff4cfb1308",null),(0,b.registerServerReference)(B,"40d78be9cdb655bf3c61373e0d7f20fb3c1e5e2ccf",null),a.s(["calculateCrossHColumn",()=>z,"findOptimalSection",()=>A],9468)}];

//# sourceMappingURL=src_actions_calculate_ts_79475ca0._.js.map