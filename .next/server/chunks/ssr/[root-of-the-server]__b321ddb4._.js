module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},19138,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95445);function f(){let[a,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(60),q=(0,d.useRouter)(),r=(0,e.createClient)();(0,c.useEffect)(()=>{let a=sessionStorage.getItem("pending_email");if(!a)return void q.push("/signup");f(a),h(!1);let b=setInterval(async()=>{let c=await fetch("/api/auth/verify-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})});(await c.json()).verified&&(clearInterval(b),j(!0),s(a))},3e3);return()=>clearInterval(b)},[q]),(0,c.useEffect)(()=>{if(o>0){let a=setTimeout(()=>p(o-1),1e3);return()=>clearTimeout(a)}},[o]);let s=async a=>{let b=sessionStorage.getItem("pending_password");if(!b)return void q.push("/login");let{error:c}=await r.auth.signInWithPassword({email:a,password:b});c?q.push("/login"):(sessionStorage.removeItem("pending_email"),sessionStorage.removeItem("pending_password"),q.push("/"))},t=async()=>{if(!a)return;l(!0),n(null);let{error:b}=await r.auth.resend({type:"signup",email:a,options:{emailRedirectTo:`${window.location.origin}/pending`}});b?n({type:"error",text:b.message}):(n({type:"success",text:"인증 메일을 재발송했습니다. 메일함을 확인해주세요."}),p(60)),l(!1)};return g?(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center bg-blue-500/10",children:(0,b.jsx)("span",{className:"block w-8 h-8 border-3 border-blue-500/20 border-t-[#667eea] rounded-full animate-spin"})}),(0,b.jsx)("h1",{className:"text-[22px] font-bold mb-3 text-slate-50 tracking-tighter",children:"확인 중..."}),(0,b.jsx)("p",{className:"text-[14px] text-slate-400 leading-relaxed",children:"계정 상태를 확인하고 있습니다."})]}):i?(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center bg-green-500/10",children:(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#4ade80",strokeWidth:"2",className:"w-10 h-10",children:[(0,b.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,b.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),(0,b.jsx)("h1",{className:"text-[22px] font-bold mb-3 text-slate-50 tracking-tighter",children:"이메일 인증 완료!"}),(0,b.jsx)("p",{className:"text-[14px] text-slate-400 leading-relaxed",children:"메인 페이지로 이동합니다..."})]}):(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center bg-orange-500/10",children:(0,b.jsxs)("div",{className:"relative w-20 h-20",children:[(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#fb923c",strokeWidth:"2",className:"w-10 h-10 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-[mailPulse_2s_ease-in-out_infinite]",children:[(0,b.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,b.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),(0,b.jsxs)("div",{className:"absolute bottom-[-8px] left-1/2 -translate-x-1/2 flex gap-1.5",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 bg-[#fb923c] rounded-full animate-[dotBounce_1.4s_ease-in-out_infinite]"}),(0,b.jsx)("span",{className:"w-1.5 h-1.5 bg-[#fb923c] rounded-full animate-[dotBounce_1.4s_ease-in-out_infinite_0.2s]"}),(0,b.jsx)("span",{className:"w-1.5 h-1.5 bg-[#fb923c] rounded-full animate-[dotBounce_1.4s_ease-in-out_infinite_0.4s]"})]})]})}),(0,b.jsx)("h1",{className:"text-[22px] font-bold mb-3 text-slate-50 tracking-tighter",children:"이메일 인증 대기 중"}),(0,b.jsx)("p",{className:"text-[14px] text-slate-400 leading-relaxed mb-2",children:"아래 이메일로 인증 링크를 발송했습니다."}),(0,b.jsx)("div",{className:"font-medium color-[#60a5fa] bg-blue-500/10 px-4 py-2 rounded-md inline-block my-3",children:a}),(0,b.jsx)("p",{className:"text-[14px] text-slate-400 leading-relaxed mb-2",children:"메일함에서 인증 링크를 클릭해주세요."}),(0,b.jsx)("p",{className:"text-[12px] text-slate-500",children:"스팸함도 확인해주세요."}),(0,b.jsxs)("div",{className:"mt-5 p-4 bg-slate-600/10 rounded-lg",children:[(0,b.jsx)("div",{className:"text-[13px] text-slate-500 mb-2",children:"인증 메일을 받지 못하셨나요?"}),(0,b.jsx)("div",{className:`text-[28px] font-bold tabular-nums ${0===o?"text-green-400":"text-slate-400"}`,children:o})]}),(0,b.jsxs)("div",{className:"mt-7 flex flex-col gap-3",children:[0===o&&(0,b.jsx)("button",{onClick:t,disabled:k,className:"w-full px-6 py-3 text-[14px] font-medium font-inherit text-white bg-[linear-gradient(135deg,#667eea_0%,#764ba2_100%)] border-none rounded-lg cursor-pointer transition-all hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",children:k?"발송 중...":"인증 메일 재발송"}),(0,b.jsx)("button",{onClick:()=>{sessionStorage.removeItem("pending_email"),sessionStorage.removeItem("pending_password"),q.push("/signup")},className:"w-full px-6 py-3 text-[14px] font-medium font-inherit text-slate-400 bg-slate-600/20 border border-slate-600/20 rounded-lg cursor-pointer transition-all hover:bg-slate-600/30",children:"다른 이메일로 가입"})]}),m&&(0,b.jsx)("div",{className:`mt-4 p-3 rounded-lg text-[13px] ${"success"===m.type?"bg-green-500/10 border border-green-500/20 text-green-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`,children:m.text})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b321ddb4._.js.map