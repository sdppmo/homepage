<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>SongDoPartners | K-COL Steel Column Design</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="page-wrapper">
    <!-- TOP ROW: Left Column + Main Content -->
    <div class="top-row">
      <!-- LEFT COLUMN -->
      <aside class="left-column">
        <!-- Logo Section -->
        <div class="logo-section">
          <div class="logo-container">
            <img src="assets/images/sdppmo_logo.png" alt="SongDoPartners">
          </div>
          <div class="welcome-text">Welcome to SongDoPartners !!</div>

          <!-- Auth Section (hidden until auth check completes) -->
          <div class="auth-section" id="authSection" style="visibility: hidden;">
            <!-- Logged Out State -->
            <div class="auth-guest" id="authGuest">
              <div class="auth-buttons">
                <button class="auth-btn primary" id="loginBtn">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
                    <polyline points="10 17 15 12 10 7"/>
                    <line x1="15" y1="12" x2="3" y2="12"/>
                  </svg>
                  로그인
                </button>
                <button class="auth-btn secondary" id="signupBtn">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                    <circle cx="8.5" cy="7" r="4"/>
                    <line x1="20" y1="8" x2="20" y2="14"/>
                    <line x1="23" y1="11" x2="17" y2="11"/>
                  </svg>
                  회원가입
                </button>
              </div>
            </div>

            <!-- Logged In State -->
            <div class="auth-user" id="authUser" style="display:none;">
              <div class="user-card">
                <div class="user-card-header">
                  <div class="gh-avatar" id="userAvatar">S</div>
                  <div class="user-info">
                    <span class="user-name" id="userName">User</span>
                    <span class="user-email" id="userEmail">user@example.com</span>
                  </div>
                </div>
                <div class="user-card-actions">
                  <a href="pages/admin.html" class="user-action-btn admin" id="adminLink" style="display:none;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="3" width="7" height="7"/>
                      <rect x="14" y="3" width="7" height="7"/>
                      <rect x="14" y="14" width="7" height="7"/>
                      <rect x="3" y="14" width="7" height="7"/>
                    </svg>
                    관리자
                  </a>
                  <button class="user-action-btn settings" id="settingsBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="3"/>
                      <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                    </svg>
                    설정
                  </button>
                  <button class="user-action-btn logout" id="logoutBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                      <polyline points="16 17 21 12 16 7"/>
                      <line x1="21" y1="12" x2="9" y2="12"/>
                    </svg>
                    로그아웃
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Menu -->
        <nav class="nav-menu">
          <a href="pages/consulting.html" class="nav-item gold">Consulting</a>
          <a href="pages/products.html" class="nav-item gold">Products</a>
          <a href="pages/slim-box-web-support.html" class="nav-item gray-text">Slim-Os Web Support (soon)</a>
          <a href="pages/k-col web software/crossHcolumnCalculator.html" class="nav-item active gold" data-requires-auth="true" data-required-groups="kcol-user">K-COL Web Software</a>
          <a href="pages/K-product/2H_steel_product.html" class="nav-item gold" id="kcol-product-schedule-link" data-requires-auth="true" data-required-groups="kcol-admin">K-COL Product Schedule</a>
          <div class="nav-item small-text gray-text">EX-Slim-Box(Not in Service)</div>
          <a href="pages/ks-code-database.html" class="nav-item gold">KS code DB(철골용)</a>
          <a href="pages/qa.html" class="nav-item gold">Q & A (logged-in user)</a>
          <div class="nav-item gray-text">About SDP</div>
        </nav>

        <!-- Brochure Grid -->
        <div class="brochure-grid">
          <a href="pages/k-col web software/k-col-user-guide.html#kcol-guide-header" class="brochure-btn">K-COL Brochure</a>
          <a href="assets/pdf/hyundai-steel-h-beam.pdf" target="_blank" class="brochure-btn">현대제철 H형강</a>
          <button class="brochure-btn gray-text">SLim-Box Brochure</button>
          <a href="assets/pdf/Pos-H Brochure step4.pdf" target="_blank" class="brochure-btn white">POS H 형강</a>
          <button class="brochure-btn gray-text">Ex_Slim-Beam Brochure</button>
          <button class="brochure-btn yellow">Sunex MTL</button>
        </div>
      </aside>

      <!-- MAIN CONTENT AREA (Right pane) -->
      <div class="main-area">
        <!-- Background Image - Covers entire right pane -->
        <div class="bg-image"></div>

        <!-- Content Layer - On top of background -->
        <div class="content-layer">
          <!-- World Clocks -->
          <div class="world-clocks">
            <div class="clock-container">
              <div class="clock" id="clock-indonesia">
                <div class="clock-face">
                  <div class="hand hour-hand" id="hour-indonesia"></div>
                  <div class="hand minute-hand" id="minute-indonesia"></div>
                  <div class="hand second-hand" id="second-indonesia"></div>
                  <div class="clock-center"></div>
                </div>
              </div>
              <div class="clock-label">Indonesia <span class="ampm-indicator" id="ampm-indonesia">AM</span></div>
            </div>
            <div class="clock-container">
              <div class="clock" id="clock-seoul">
                <div class="clock-face">
                  <div class="hand hour-hand" id="hour-seoul"></div>
                  <div class="hand minute-hand" id="minute-seoul"></div>
                  <div class="hand second-hand" id="second-seoul"></div>
                  <div class="clock-center"></div>
                </div>
              </div>
              <div class="clock-label">Seoul <span class="ampm-indicator" id="ampm-seoul">AM</span></div>
            </div>
            <div class="clock-container">
              <div class="clock" id="clock-sanfrancisco">
                <div class="clock-face">
                  <div class="hand hour-hand" id="hour-sanfrancisco"></div>
                  <div class="hand minute-hand" id="minute-sanfrancisco"></div>
                  <div class="hand second-hand" id="second-sanfrancisco"></div>
                  <div class="clock-center"></div>
                </div>
              </div>
              <div class="clock-label">San Francisco <span class="ampm-indicator" id="ampm-sanfrancisco">AM</span></div>
            </div>
            <div class="clock-container">
              <div class="clock" id="clock-newyork">
                <div class="clock-face">
                  <div class="hand hour-hand" id="hour-newyork"></div>
                  <div class="hand minute-hand" id="minute-newyork"></div>
                  <div class="hand second-hand" id="second-newyork"></div>
                  <div class="clock-center"></div>
                </div>
              </div>
              <div class="clock-label">New York <span class="ampm-indicator" id="ampm-newyork">AM</span></div>
            </div>
          </div>

          <!-- Right Sidebar -->
          <aside class="right-sidebar">
            <!-- News Section -->
            <div class="news-section">
              <div class="news-title">NEWS</div>
              <div class="news-item">K-COL Steel Column<br>Program is release on<br>1 of Dec.<br>New Auto Find Section<br>to be loaded on<br>1 of Feb.</div>
              <div class="news-item">Slimbox tests on 1 of Jan<br>with posco Global R&D<br>Center at Songdo, Incheon</div>
              <div class="news-item">H beam price up<br>50won/kg on Nov. from<br>Hyundai-steel</div>
            </div>
          </aside>

          <!-- Exchange Table - 좌측 하단 -->
          <div class="exchange-table exchange-table-bottom-left">
            <div class="exchange-header">
              <a href="https://www.bok.or.kr/portal/singl/baseRate/list.do?dataSeCd=01&menuNo=200643" target="_blank" class="exchange-link" title="한국은행 환율 정보 보기">
                환율(won/$): <span id="exchange-rate">로딩중...</span>
              </a>
            </div>
            <div class="exchange-row">
              <div class="exchange-cell">건설지수(12월)</div>
              <div class="exchange-cell">건설지수(1월)</div>
            </div>
            <div class="exchange-row">
              <div class="exchange-cell" title="철강가격 기본단가를 알수 있도록 관련웹사이트를 통해 항시 업데이트 합니다. 이패널은 지난 12월 가격을 알려줍니다.">
                철강가격 (12월)
                <div class="exchange-description">기본단가 업데이트</div>
              </div>
              <div class="exchange-cell">철강가격 (1월)</div>
            </div>
            <div class="exchange-row">
              <div class="exchange-cell">판재가격(12월)</div>
              <div class="exchange-cell">판재가격(1월)</div>
            </div>
            <div class="exchange-row">
              <div class="exchange-cell">철근가격(12월)</div>
              <div class="exchange-cell">철근가격(1월)</div>
            </div>
            <div class="exchange-row">
              <div class="exchange-cell">레미콘가격(12월)</div>
              <div class="exchange-cell">레미콘가격(1월)</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- BOTTOM ROW: Product Logos + Footer (Same height) -->
    <div class="bottom-row">
      <!-- Product Logos -->
      <div class="product-logos">
        <img src="assets/images/product-1.png" alt="K-COL">
        <img src="assets/images/product-2.png" alt="SLiM-BOX">
        <img src="assets/images/product-3.png" alt="ExSlim-Beam">
        <img src="assets/images/product-4.png" alt="COL">
      </div>

      <!-- Footer -->
      <footer class="footer">
        <div class="footer-info">
          <div>Homepage : http://www.kcol.kr</div>
          <div>E-Mail Address : If any problems, contact me : <a href="mailto:sbd_pmo@naver.com">sbd_pmo@naver.com</a></div>
          <div>HQ. Address : 77-bungi, 42-bungil, Conventia Daero, Yeonsu-ku, Incheon, KOREA</div>
          <div>Seoul Office Address : TBD</div>
        </div>
        <div class="db-button">
          <div class="click-text">CLICK</div>
          <div class="main-text">Go to<br>SDP Database</div>
        </div>
        <div class="company-logos">
          <div class="company-logo dongyang"><a href="https://dystec.co.kr/new/" target="_blank"><img src="assets/images/network-1.png" alt="DONG YANG S·Tec"></a></div>
          <div class="company-logo posco"><a href="https://www.posco.co.kr" target="_blank"><img src="assets/images/network-2.png" alt="POSCO"></a></div>
          <div class="company-logo steelball"><a href="https://www.steelall.co.kr" target="_blank"><img src="assets/images/network-3.png" alt="Steel Ball"></a></div>
          <div class="company-logo p6sc"><a href="https://www.p6ix.co.kr" target="_blank"><img src="assets/images/network-6.png" alt="p6sc"></a></div>
          <div class="company-logo clbs"><a href="https://www.clbs.co.kr/main.jsp" target="_blank"><img src="assets/images/network-5.png" alt="CLBS"></a></div>
          <div class="company-logo hyundai"><a href="https://www.hyundai-steel.com" target="_blank"><img src="assets/images/network-4.jfif" alt="HYUNDAI STEEL"></a></div>
        </div>
      </footer>
    </div>
  </div>

  <!-- Project Selection Modal -->
  <div id="project-modal" class="proj-modal-overlay" aria-hidden="true">
    <div class="proj-modal" role="dialog" aria-modal="true" aria-labelledby="project-modal-title">
      <div class="proj-modal-header">
        <div class="proj-modal-title">
          <strong id="project-modal-title">프로젝트 선택</strong>
          <span>K-COL Product Schedule</span>
        </div>
        <button type="button" id="project-modal-close" class="proj-modal-close" aria-label="닫기">✕</button>
      </div>
      <div class="proj-modal-body">
        <div class="proj-modal-note">
          <div class="dot"></div>
          <div>
            6개 프로젝트 중 하나를 선택하면 공정관리(일일입력/운송차수/공정표/운송물량산정)가 <strong>프로젝트별로 분리</strong>되어 저장됩니다.
          </div>
        </div>
        <div id="project-list" class="proj-grid"></div>
        <div class="proj-footer">
          <div class="last">마지막 선택: <strong><span id="project-last">(없음)</span></strong></div>
          <button type="button" id="project-clear-last" class="proj-btn-secondary">마지막 선택 초기화</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts: load order matters -->
  <script src="js/auth-config.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/main.js"></script>
  <script src="js/login.js"></script>
  <script src="js/clocks.js"></script>
  <script src="js/modal.js"></script>
  
  <!-- Exchange Rate Script -->
  <script>
    // 환율 정보 가져오기
    async function fetchExchangeRate() {
      const rateElement = document.getElementById('exchange-rate');
      if (!rateElement) return;

      try {
        // ExchangeRate-API 사용 (무료)
        // 실제 사용 시 API 키가 필요할 수 있음
        const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
        const data = await response.json();
        
        if (data && data.rates && data.rates.KRW) {
          const krwRate = data.rates.KRW;
          rateElement.textContent = Math.round(krwRate).toLocaleString() + '원';
          rateElement.title = '업데이트: ' + new Date().toLocaleString('ko-KR');
        } else {
          throw new Error('환율 데이터를 찾을 수 없습니다.');
        }
      } catch (error) {
        console.error('환율 정보를 가져오는 중 오류 발생:', error);
        // 오류 발생 시 한국은행 링크만 표시
        rateElement.textContent = '확인하기';
        rateElement.parentElement.href = 'https://www.bok.or.kr/portal/singl/baseRate/list.do?dataSeCd=01&menuNo=200643';
      }
    }

    // 페이지 로드 시 환율 정보 가져오기
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', fetchExchangeRate);
    } else {
      fetchExchangeRate();
    }

    // 1시간마다 환율 정보 업데이트
    setInterval(fetchExchangeRate, 3600000);
  </script>
</body>
</html>
